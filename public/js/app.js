var app=angular.module("myApp",["ngRoute","homeCtrl","couponDirective"]).config(["$routeProvider",function(o){"use strict";o.when("/",{controller:"HomeCtrl"}).otherwise({redirectTo:"/"})}]);angular.module("homeCtrl",["ngDialog"]).controller("HomeCtrl",["$scope","ngDialog",function(o,e){"use strict";o.collected=[],o.currentCouponEl={},o.currentCouponId="",o.couponMessages=[{id:1,title:"Ты просто Шерлок! Ты нашел первый купон!",description:"Можешь оформить скидку 2% на жалюзи прямо сейчас. Для этого оставь свой email и мы отправим на него промо-код с инструкцией."},{id:2,title:"Ура, второй купон!",description:"Можешь оформить скидку 4% на жалюзи прямо сейчас. Для этого оставь свой email и мы отправим на него промо-код с инструкцией."},{id:3,title:"Третий купон у тебя в кармане",description:"Можешь оформить скидку 6% на жалюзи прямо сейчас. Для этого оставь свой email и мы отправим на него промо-код с инструкцией."},{id:4,title:"Невероятно! Чертыре купона это серьезно!",description:"Можешь оформить скидку 8% на жалюзи прямо сейчас. Для этого оставь свой email и мы отправим на него промо-код с инструкцией."},{id:5,title:"Ты нашел последний пятый купон!",description:"Можешь оформить скидку 10% на жалюзи прямо сейчас. Для этого оставь свой email и мы отправим на него промо-код с инструкцией."}],o.init=function(){},o.skrollr=function(){skrollr.init({smoothScrolling:!0,mobileDeceleration:.004})},o.openCollectModal=function(){e.open({template:"views/modals/coupon-1.html",preCloseCallback:function(){o.currentCouponEl.fadeOut("slow")},scope:o})},o.discount=function(){return 2*o.collected.length},o.menuToggle=function(){this.menuState=!this.menuState},o.collect=function(e,t){o.currentCouponEl=$(t.currentTarget),o.currentCouponId=e,o.collected.push({id:e}),o.currentCouponEl.find(".js-coupon").addClass("collected"),o.openCollectModal()}}]),angular.module("couponDirective",[]).controller("couponCtrl",["$scope",function(){"use strict"}]).directive("coupon",[function(){"use strict";return{restrict:"E",templateUrl:"views/coupon/index.html",scope:{},link:function(o,e,t){var n=t.location.split(","),i=$.trim(n[0]),c=$.trim(n[1]);o.id=t.id,e.find(".js-coupon").css({left:i,top:c})}}}]),angular.module("app",[]).service("couponsService",["$http","$q",function(o,e){var t=this;t.couponsList={},t.init=function(){},t.getCoupons=function(){var n=e.defer();return o.get("data/coupons.json").success(function(o){t.couponsList=o,n.resolve(o)}).error(function(o){n.reject(o)}),n.promise}}]);
//# sourceMappingURL=../js/app.js.map