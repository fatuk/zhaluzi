{"version":3,"sources":["app.js","controllers/homeCtrl.js","directives/couponDirective.js","services/couponsService.js"],"names":[],"mappings":"AAKA,GAAA,KAAA,QAAA,OAAA,SACA,UACA,WACA,oBAEA,QAAA,iBACA,SAAA,GACA,YACA,GACA,KAAA,KACA,WAAA,aAEA,WACA,WAAA,QClBA,SAAA,OAAA,YAAA,aACA,WAAA,YAAA,SAAA,WACA,SAAA,EAAA,GACA,YAEA,GAAA,aACA,EAAA,mBACA,EAAA,gBAAA,GACA,EAAA,iBACA,GAAA,EACA,MAAA,2CACA,YAAA,iIAEA,GAAA,EACA,MAAA,qBACA,YAAA,iIAEA,GAAA,EACA,MAAA,gCACA,YAAA,iIAEA,GAAA,EACA,MAAA,2CACA,YAAA,iIAEA,GAAA,EACA,MAAA,kCACA,YAAA,kIAGA,EAAA,KAAA,aAIA,EAAA,QAAA,WACA,QAAA,MACA,iBAAA,EACA,mBAAA,QAIA,EAAA,iBAAA,WACA,EAAA,MACA,SAAA,6BACA,iBAAA,WACA,EAAA,gBAAA,QAAA,SAEA,MAAA,KAIA,EAAA,SAAA,WACA,MAAA,GAAA,EAAA,UAAA,QAGA,EAAA,WAAA,WACA,KAAA,WAAA,KAAA,WAGA,EAAA,QAAA,SAAA,EAAA,GACA,EAAA,gBAAA,EAAA,EAAA,eACA,EAAA,gBAAA,EACA,EAAA,UAAA,MACA,GAAA,IAGA,EAAA,gBAAA,KAAA,cAAA,SAAA,aAEA,EAAA,uBCpEA,QAAA,OAAA,sBACA,WAAA,cAAA,SACA,WACA,gBAGA,UAAA,UAEA,WACA,YACA,QACA,SAAA,IACA,YAAA,0BACA,SACA,KAAA,SAAA,EAAA,EAAA,GACA,GAAA,GAAA,EAAA,SAAA,MAAA,KACA,EAAA,EAAA,KAAA,EAAA,IACA,EAAA,EAAA,KAAA,EAAA,GAEA,GAAA,GAAA,EAAA,GAEA,EAAA,KAAA,cAAA,KACA,KAAA,EACA,IAAA,SCvBA,QAAA,OAAA,UACA,QAAA,kBAAA,QAAA,KACA,SAAA,EAAA,GACA,GAAA,GAAA,IACA,GAAA,eAEA,EAAA,KAAA,aAIA,EAAA,WAAA,WACA,GAAA,GAAA,EAAA,OAWA,OATA,GAAA,IAAA,qBACA,QAAA,SAAA,GACA,EAAA,YAAA,EACA,EAAA,QAAA,KAEA,MAAA,SAAA,GACA,EAAA,OAAA,KAGA,EAAA","file":"app.js","sourcesContent":["/**\n * App Module\n *\n * Main app module\n */\nvar app = angular.module('myApp', [\n\t'ngRoute',\n\t'homeCtrl',\n\t'couponDirective'\n])\n\t.config(['$routeProvider',\n\t\tfunction ($routeProvider) {\n\t\t\t'use strict';\n\t\t\t$routeProvider\n\t\t\t\t.when('/', {\n\t\t\t\t\tcontroller: 'HomeCtrl'\n\t\t\t\t})\n\t\t\t\t.otherwise({\n\t\t\t\t\tredirectTo: '/'\n\t\t\t\t});\n\t\t}\n\t]);\n","angular.module('homeCtrl', ['ngDialog'])\n\t.controller('HomeCtrl', ['$scope', 'ngDialog',\n\t\tfunction ($scope, ngDialog) {\n\t\t\t'use strict';\n\n\t\t\t$scope.collected = [];\n\t\t\t$scope.currentCouponEl = {};\n\t\t\t$scope.currentCouponId = '';\n\t\t\t$scope.couponMessages = [{\n\t\t\t\tid: 1,\n\t\t\t\ttitle: 'Ты просто Шерлок! Ты нашел первый купон!',\n\t\t\t\tdescription: 'Можешь оформить скидку 2% на жалюзи прямо сейчас. Для этого оставь свой email и мы отправим на него промо-код с инструкцией.'\n\t\t\t}, {\n\t\t\t\tid: 2,\n\t\t\t\ttitle: 'Ура, второй купон!',\n\t\t\t\tdescription: 'Можешь оформить скидку 4% на жалюзи прямо сейчас. Для этого оставь свой email и мы отправим на него промо-код с инструкцией.'\n\t\t\t}, {\n\t\t\t\tid: 3,\n\t\t\t\ttitle: 'Третий купон у тебя в кармане',\n\t\t\t\tdescription: 'Можешь оформить скидку 6% на жалюзи прямо сейчас. Для этого оставь свой email и мы отправим на него промо-код с инструкцией.'\n\t\t\t}, {\n\t\t\t\tid: 4,\n\t\t\t\ttitle: 'Невероятно! Чертыре купона это серьезно!',\n\t\t\t\tdescription: 'Можешь оформить скидку 8% на жалюзи прямо сейчас. Для этого оставь свой email и мы отправим на него промо-код с инструкцией.'\n\t\t\t}, {\n\t\t\t\tid: 5,\n\t\t\t\ttitle: 'Ты нашел последний пятый купон!',\n\t\t\t\tdescription: 'Можешь оформить скидку 10% на жалюзи прямо сейчас. Для этого оставь свой email и мы отправим на него промо-код с инструкцией.'\n\t\t\t}];\n\n\t\t\t$scope.init = function () {\n\n\t\t\t};\n\n\t\t\t$scope.skrollr = function () {\n\t\t\t\tvar s = skrollr.init({\n\t\t\t\t\tsmoothScrolling: true,\n\t\t\t\t\tmobileDeceleration: 0.004\n\t\t\t\t});\n\t\t\t};\n\n\t\t\t$scope.openCollectModal = function () {\n\t\t\t\tngDialog.open({\n\t\t\t\t\ttemplate: 'views/modals/coupon-1.html',\n\t\t\t\t\tpreCloseCallback: function () {\n\t\t\t\t\t\t$scope.currentCouponEl.fadeOut('slow');\n\t\t\t\t\t},\n\t\t\t\t\tscope: $scope\n\t\t\t\t});\n\t\t\t};\n\n\t\t\t$scope.discount = function () {\n\t\t\t\treturn $scope.collected.length * 2;\n\t\t\t};\n\n\t\t\t$scope.menuToggle = function () {\n\t\t\t\tthis.menuState = !this.menuState;\n\t\t\t};\n\n\t\t\t$scope.collect = function (id, e) {\n\t\t\t\t$scope.currentCouponEl = $(e.currentTarget);\n\t\t\t\t$scope.currentCouponId = id;\n\t\t\t\t$scope.collected.push({\n\t\t\t\t\tid: id\n\t\t\t\t});\n\n\t\t\t\t$scope.currentCouponEl.find('.js-coupon').addClass('collected');\n\n\t\t\t\t$scope.openCollectModal();\n\t\t\t};\n\t\t}\n\t]);\n","angular.module('couponDirective', [])\n\t.controller('couponCtrl', ['$scope',\n\t\tfunction ($scope) {\n\t\t\t'use strict';\n\t\t}\n\t])\n\t.directive('coupon', [\n\n\t\tfunction () {\n\t\t\t'use strict';\n\t\t\treturn {\n\t\t\t\trestrict: 'E',\n\t\t\t\ttemplateUrl: 'views/coupon/index.html',\n\t\t\t\tscope: {},\n\t\t\t\tlink: function (scope, el, attr) {\n\t\t\t\t\tvar locationArray = attr.location.split(','),\n\t\t\t\t\t\tleft = $.trim(locationArray[0]),\n\t\t\t\t\t\ttop = $.trim(locationArray[1]);\n\n\t\t\t\t\tscope.id = attr.id;\n\n\t\t\t\t\tel.find('.js-coupon').css({\n\t\t\t\t\t\tleft: left,\n\t\t\t\t\t\ttop: top\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t};\n\t\t}\n\t]);\n","angular.module('app', [])\n\t.service('couponsService', ['$http', '$q',\n\t\tfunction ($http, $q) {\n\t\t\tvar coupons = this;\n\t\t\tcoupons.couponsList = {};\n\n\t\t\tcoupons.init = function () {\n\n\t\t\t};\n\n\t\t\tcoupons.getCoupons = function () {\n\t\t\t\tvar defer = $q.defer();\n\n\t\t\t\t$http.get('data/coupons.json')\n\t\t\t\t\t.success(function (res) {\n\t\t\t\t\t\tcoupons.couponsList = res;\n\t\t\t\t\t\tdefer.resolve(res);\n\t\t\t\t\t})\n\t\t\t\t\t.error(function (err, status) {\n\t\t\t\t\t\tdefer.reject(err);\n\t\t\t\t\t});\n\n\t\t\t\treturn defer.promise;\n\t\t\t};\n\n\t\t}\n\t]);\n"],"sourceRoot":"/source/"}